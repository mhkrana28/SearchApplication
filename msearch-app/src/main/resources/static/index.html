<!DOCTYPE html>
<html>
<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
<script>
	$(document).ready(function() {
		var table = $("#jobTable");
		var tBody = $("tBody");

		//$("#searchBtn").click(function() {
		$(document).on("input", "#search", function() {
			var text = $('#search').val();
			$.get("http://localhost:8080/search/from/job", {
				text : text
			}, function(response) {
				if (response != null) {
					tBody.empty();
					$.each(response, function(key, value) {
						var row = $("<tr><td class=\"smallTd\"></td><td class=\"bigTd\"></td><td class=\"midTd\"></td></tr>");
						row.children().eq(0).text(value['id']);
						row.children().eq(1).text(value['title']);
						row.children().eq(2).text(value['location']);
						row.appendTo(tBody);
					});//Loop ends
				} else {
					tBody.empty();
				}
			});
		});
	});
</script>

<title>Job Search</title>
</head>

<body>
	<div id="searchDiv">
		<input type="text" name="search" id="search" placeholder="Search Jobs" />
	</div>
	<br />
	<table id="jobTable">
		<thead>
			<tr>
				<th>ID</th>
				<th>Title</th>
				<th>Location</th>
			</tr>
		</thead>
		<tbody id="tBody"></tbody>
	</table>


</body>
</html>
